
{% extends "layout.html" %}
{% block content %}


<div class="container-fluid">
  <div class="row">
      <div class="col-md-3 col-md-offset-1">
        <h3>{{fileName}}</h3>
      </div>
      <div class="col-md-3 col-md-offset-5">
        <center>
        <button id="preview" class="btn btn-primary" style="margin-top:20px; margin-bottom: 20px;">Preview</button>
        <button id="download" class="btn btn-success" style="margin-top:20px; margin-bottom: 20px;">Download</button>
        </center>
      </div>
  </div>
  {% if not (status.__len__() >0 and (status[0]=="GENERATING_TRANSLATED_PO_FILE:::COMPLETE" or status[0].startswith("OUTPUT_FILE_GENERATED") )) %}
    <div id="loading-div" class="row">
        <center>
        <br />
        <br />
        <br />
        <div class="circle"></div>
        <br/><br /><br />
        <h2 id="translation_status"></h2>
        </center>
    </div>
  {% else %}
      <script type="text/javascript">
          var PO_DATA = '{{ PO | tojson | safe }}';
    </script>
      <div id="po-container" class="container">
      </div>
  {% endif %}
</div>
<script type="text/javascript">
  window.uid = '{{uid}}';
  window.fileName = '{{fileName}}';
  window.translationStatus = '{{status[0]}}';
</script>
{% endblock %}

{% block js %}
  <script src="{{ url_for('static', filename='sepjs/poeditor.js') }}"> </script>
  <script src="{{ url_for('static', filename='sepjs/translate-html.js') }}"> </script>

{% endblock %}